/*******************************************************************************
* 文件名	: ParamAccess.c
* 作者		: Yang
* 版本		: V1.0.0
* 创建时间	: 10/13/2014
* 描述		: 系统参数的 存储 与 读取
*******************************************************************************/

/* Includes ------------------------------------------------------------------*/

#include "gd32e50x.h"
/*Data*/

/*OCV_SOC */
uint16_t OCV_SOC[][2];

uint16_t SOCtoOCV(uint16_t soc)
{
	uint16_t i;
	uint16_t start;
	uint16_t end;

	start=0;
	end=421;
	while(1)
	{
		i=(start+end)/2;

		if(soc>OCV_SOC[i][1])
		{
			end=i;
		}
		else
		{
			start=i;
		}
		if((end<=start) || ((end-start)==1))
		{
			break;
		}
	}

	return OCV_SOC[i][0];
}

uint16_t OCVtoSOC(uint16_t ocv)
{
	uint16_t i;
	uint16_t start;
	uint16_t end;

	start=0;
	end=421;
	while(1)
	{
		i=(start+end)/2;

		if(ocv>OCV_SOC[i][0])
		{
			end=i;
		}
		else
		{
			start=i;
		}
		if((end<=start) || ((end-start)==1))
		{
			break;
		}
	}

	return OCV_SOC[i][1];
}

/*OCV_SOC 数据表*/
uint16_t OCV_SOC[][2]=
{{2797 , 999 },
{2796 , 999 },
{2795 , 999 },
{2755 , 998 },
{2729 , 995 },
{2718 , 993 },
{2713 , 991 },
{2710 , 988 },
{2710 , 986 },
{2709 , 984 },
{2709 , 982 },
{2709 , 979 },
{2709 , 977 },
{2709 , 975 },
{2709 , 973 },
{2709 , 970 },
{2709 , 968 },
{2709 , 966 },
{2709 , 964 },
{2709 , 961 },
{2709 , 959 },
{2709 , 957 },
{2709 , 954 },
{2709 , 952 },
{2709 , 950 },
{2709 , 948 },
{2709 , 945 },
{2709 , 943 },
{2709 , 941 },
{2709 , 939 },
{2709 , 936 },
{2709 , 934 },
{2708 , 932 },
{2708 , 930 },
{2708 , 927 },
{2708 , 925 },
{2708 , 923 },
{2708 , 921 },
{2708 , 918 },
{2708 , 916 },
{2708 , 914 },
{2708 , 912 },
{2708 , 909 },
{2708 , 907 },
{2708 , 905 },
{2708 , 903 },
{2708 , 900 },
{2708 , 898 },
{2708 , 896 },
{2708 , 894 },
{2707 , 891 },
{2707 , 889 },
{2707 , 887 },
{2707 , 885 },
{2707 , 882 },
{2707 , 880 },
{2707 , 878 },
{2707 , 875 },
{2707 , 873 },
{2707 , 871 },
{2707 , 869 },
{2707 , 866 },
{2707 , 864 },
{2707 , 862 },
{2707 , 860 },
{2707 , 857 },
{2707 , 855 },
{2706 , 853 },
{2706 , 851 },
{2706 , 848 },
{2706 , 846 },
{2706 , 844 },
{2706 , 842 },
{2706 , 839 },
{2706 , 837 },
{2706 , 835 },
{2706 , 833 },
{2706 , 830 },
{2706 , 828 },
{2706 , 826 },
{2705 , 824 },
{2705 , 821 },
{2705 , 819 },
{2705 , 817 },
{2705 , 815 },
{2705 , 812 },
{2705 , 810 },
{2705 , 808 },
{2705 , 806 },
{2704 , 803 },
{2704 , 801 },
{2704 , 799 },
{2704 , 797 },
{2704 , 794 },
{2704 , 792 },
{2704 , 790 },
{2704 , 788 },
{2704 , 785 },
{2704 , 783 },
{2703 , 781 },
{2703 , 779 },
{2703 , 776 },
{2703 , 774 },
{2703 , 772 },
{2703 , 770 },
{2703 , 767 },
{2703 , 765 },
{2702 , 763 },
{2702 , 761 },
{2702 , 758 },
{2702 , 756 },
{2702 , 754 },
{2702 , 752 },
{2702 , 749 },
{2702 , 747 },
{2701 , 745 },
{2701 , 742 },
{2701 , 740 },
{2701 , 738 },
{2701 , 736 },
{2701 , 734 },
{2701 , 731 },
{2701 , 729 },
{2700 , 727 },
{2700 , 724 },
{2700 , 722 },
{2700 , 720 },
{2700 , 718 },
{2700 , 716 },
{2700 , 713 },
{2700 , 711 },
{2699 , 709 },
{2699 , 706 },
{2699 , 704 },
{2699 , 702 },
{2699 , 700 },
{2699 , 698 },
{2699 , 695 },
{2698 , 693 },
{2698 , 691 },
{2698 , 689 },
{2698 , 686 },
{2698 , 684},
{2698 , 682},
{2698 , 680},
{2698 , 677},
{2697 , 675},
{2697 , 673},
{2697 , 671},
{2697 , 668},
{2697 , 666},
{2697 , 664},
{2697 , 662},
{2697 , 659},
{2696 , 657},
{2696 , 655},
{2696 , 653},
{2696 , 650},
{2696 , 648},
{2696 , 646},
{2696 , 644},
{2696 , 641},
{2695 , 639},
{2695 , 637},
{2695 , 635},
{2695 , 632},
{2695 , 630},
{2695 , 628},
{2695 , 626},
{2695 , 623},
{2694 , 621},
{2694 , 619},
{2694 , 617},
{2694 , 614},
{2694 , 612},
{2694 , 610},
{2694 , 608},
{2694 , 605},
{2693 , 603},
{2693 , 601},
{2693 , 599},
{2693 , 596},
{2693 , 594},
{2693 , 592},
{2693 , 590},
{2693 , 587},
{2692 , 585},
{2692 , 583},
{2692 , 581},
{2692 , 578},
{2692 , 576},
{2692 , 574},
{2692 , 572},
{2692 , 569},
{2691 , 567},
{2691 , 565},
{2691 , 563},
{2691 , 561},
{2691 , 558},
{2691 , 556},
{2691 , 554},
{2690 , 551},
{2690 , 549},
{2690 , 547},
{2690 , 545},
{2690 , 542},
{2690 , 540},
{2690 , 538},
{2689 , 536},
{2689 , 533},
{2689 , 531},
{2689 , 529},
{2689 , 527},
{2689 , 525},
{2689 , 522},
{2688 , 520},
{2688 , 518},
{2688 , 516},
{2688 , 513},
{2688 , 511},
{2688 , 509},
{2688 , 507},
{2687 , 504},
{2687 , 502},
{2687 , 500},
{2687 , 498},
{2687 , 495},
{2687 , 493},
{2686 , 491},
{2686 , 489},
{2686 , 486},
{2686 , 484},
{2686 , 482},
{2685 , 480},
{2685 , 478},
{2685 , 475},
{2685 , 473},
{2685 , 471},
{2685 , 469},
{2684 , 466},
{2684 , 464},
{2684 , 462},
{2684 , 460},
{2684 , 457},
{2683 , 455},
{2683 , 453},
{2683 , 451},
{2683 , 448},
{2683 , 446},
{2682 , 444},
{2682 , 442},
{2682 , 439},
{2682 , 437},
{2682 , 435},
{2681 , 433},
{2681 , 431},
{2681 , 428},
{2681 , 426},
{2680 , 424},
{2680 , 422},
{2680 , 419},
{2680 , 417},
{2680 , 415},
{2679 , 413},
{2679 , 410},
{2679 , 408},
{2679 , 406},
{2678 , 404},
{2678 , 402},
{2678 , 399},
{2678 , 397},
{2677 , 395},
{2677 , 393},
{2677 , 390},
{2676 , 388},
{2676 , 386},
{2676 , 384},
{2676 , 381},
{2675 , 379},
{2675 , 377},
{2675 , 375},
{2675 , 372},
{2674 , 370},
{2674 , 368},
{2674 , 366},
{2673 , 364},
{2673 , 361},
{2673 , 359},
{2672 , 357},
{2672 , 355},
{2672 , 352},
{2671 , 350},
{2671 , 348},
{2671 , 346},
{2670 , 343},
{2670 , 341},
{2670 , 339},
{2669 , 337},
{2669 , 335},
{2669 , 332},
{2668 , 330},
{2668 , 328},
{2667 , 326},
{2667 , 324},
{2667 , 321},
{2666 , 319},
{2666 , 317},
{2665 , 315},
{2665 , 312},
{2664 , 310},
{2664 , 308},
{2664 , 306},
{2663 , 303},
{2663 , 301},
{2662 , 299},
{2662 , 297},
{2661 , 295},
{2661 , 292},
{2660 , 290},
{2660 , 288},
{2659 , 286},
{2659 , 284},
{2658 , 281},
{2658 , 279},
{2657 , 277},
{2657 , 275},
{2656 , 272},
{2655 , 270},
{2655 , 268},
{2654 , 266},
{2654 , 264},
{2653 , 261},
{2653 , 259},
{2652 , 257},
{2651 , 255},
{2651 , 253},
{2650 , 250},
{2649 , 248},
{2649 , 246},
{2648 , 244},
{2647 , 242},
{2647 , 239},
{2646 , 237},
{2645 , 235},
{2645 , 233},
{2644 , 231},
{2643 , 228},
{2642 , 226},
{2641 , 224},
{2641 , 222},
{2640 , 219},
{2639 , 217},
{2638 , 215},
{2637 , 213},
{2636 , 211},
{2635 , 208},
{2635 , 206},
{2634 , 204},
{2633 , 202},
{2632 , 200},
{2631 , 198},
{2631 , 195},
{2630 , 193},
{2629 , 191},
{2629 , 189},
{2628 , 187},
{2627 , 184},
{2626 , 182},
{2626 , 180},
{2625 , 178},
{2624 , 176},
{2624 , 173},
{2623 , 171},
{2622 , 169},
{2622 , 167},
{2621 , 165},
{2620 , 163},
{2619 , 160},
{2619 , 158},
{2618 , 156},
{2617 , 154},
{2616 , 152},
{2615 , 149},
{2614 , 147},
{2613 , 145},
{2611 , 143},
{2610 , 141},
{2609 , 138},
{2607 , 136},
{2606 , 134},
{2603 , 132},
{2602 , 130},
{2599 , 128},
{2597 , 125},
{2594 , 123},
{2591 , 121},
{2588 , 119},
{2584 , 117},
{2580 , 115},
{2576 , 112},
{2571 , 110},
{2566 , 108},
{2561 , 106},
{2554 , 104},
{2547 , 102},
{2540 , 100},
{2531 , 98},
{2523 , 95},
{2513 , 93},
{2502 , 91},
{2491 , 90},
{2479 , 89},
{2466 , 87},
{2449 , 85},
{2433 , 83},
{2417 , 81},
{2395 , 79},
{2375 , 77},
{2353 , 75},
{2325 , 73},
{2299 , 71},
{2270 , 69}
};
