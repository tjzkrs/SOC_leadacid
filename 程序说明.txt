Note:
1.本程序采用积分法，每秒钟采样电流一次，充电为正，放电为负，乘以时间，加到前一秒钟的电量值上，算出新电量，和总电量的比值就是SOC.
2.初始SOC读两个值：一个是Flash中存的上次记录的值，另一个是通过OCV2SOC（开路电压-SOC）表读取对应的值，此外还读取上次存储的电压和当前电压，如果两个电压差值小于0.05V或两个SOC差值小于5，就认为电池情况没有变化，采用上次的SOC值，否则认为电池电压变化较大，用新读取的值，目前这个值是粗略测量的。系统运行时每10分钟往Flash中记录下当前的SOC和电池电压。
3.从系统控制器读出的充放电电流均小于0.1A时，认为没有电流，电量变化为0.
4.电量满的判断标志是：电压大于给定值，电池处于充电状态且电流小于给定值。当满足条件时，电量直接被设成给定的值。判断电压、电流和满电量值由屏幕输入。
